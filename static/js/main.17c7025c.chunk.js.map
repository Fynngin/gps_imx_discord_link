{"version":3,"sources":["connectBtnStyle.module.css","DiscordProfile.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","DiscordProfile","user","style","width","height","borderRadius","src","id","avatar","alt","username","App","useState","discordUser","setDiscordUser","a","getImxAddress","verifyUser","link","Link","setup","address","imxAddress","userId","fetch","method","headers","useEffect","fragment","URLSearchParams","window","location","hash","slice","get","accessToken","tokenType","authorization","then","result","json","response","catch","console","error","className","styles","square_btn","onClick","handleConnectButtonClick","connectBtnText","imx_logo","process","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,WAAa,oCAAoC,eAAiB,wCAAwC,SAAW,oC,wnBCaxH,SAASC,EAAT,GAAsD,IAA7BC,EAA4B,EAA5BA,KAOpC,OACI,gCACI,qBAAKC,MARQ,CACjBC,MAAO,QACPC,OAAQ,QACRC,aAAc,QAKgBC,IAAG,6CAAwCL,EAAKM,GAA7C,YAAmDN,EAAKO,OAAxD,QAAsEC,IAAI,gBACvG,wCAAWR,EAAKS,e,sBC8CbC,MAhEf,WACE,MAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KADa,4CAGb,sBAAAC,EAAA,sEACwBC,IADxB,OAEEC,EAFF,OAEsBJ,EAAYN,IAFlC,4CAHa,+BAQES,IARF,2EAQb,gCAAAD,EAAA,6DACQG,EAAO,IAAIC,IAAK,gCADxB,SAE4BD,EAAKE,MAAM,IAFvC,uBAEUC,EAFV,EAEUA,QAFV,kBAGSA,GAHT,4CARa,+BAcEJ,EAdF,gFAcb,WAA0BK,EAAoBC,GAA9C,SAAAR,EAAA,sEACQS,MAAM,sEAAD,OAAuED,EAAvE,oBAAyFD,GAAc,CAChHG,OAAQ,OACRC,QAAS,CACP,eAAgB,sBAJtB,4CAda,sBA8Cb,OAtBAC,qBAAU,WAER,IAAMC,EAAW,IAAIC,gBAAgBC,OAAOC,SAASC,KAAKC,MAAM,IAChE,EAAiC,CAACL,EAASM,IAAI,gBAAiBN,EAASM,IAAI,eAAtEC,EAAP,KAAoBC,EAApB,KAcID,GAZAX,MAAM,oCAAqC,CACzCE,QAAS,CACPW,cAAc,GAAD,OAAKD,EAAL,YAAkBD,MAGlCG,MAAK,SAAAC,GAAM,OAAIA,EAAOC,UACtBF,MAAK,SAAAG,GACJ3B,EAAe2B,MAEhBC,MAAMC,QAAQC,SAMlB,IAGD,qBAAKC,UAAU,MAAf,SACE,wBAAQA,UAAU,aAAlB,SACGhC,EAAYN,GACT,qCACE,cAACP,EAAD,CAAgBC,KAAMY,IACtB,yBAAQgC,UAAWC,IAAOC,WAAYC,QAAS,kBApD9C,0CAoDoDC,IAArD,UACE,oBAAIJ,UAAWC,IAAOI,eAAtB,qBACA,qBAAKL,UAAWC,IAAOK,SAAU7C,IAAG,UAAK8C,YAAL,iBAA4C3C,IAAI,0BAGxF,mGCjDG4C,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBjB,MAAK,YAAkD,IAA/CkB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.17c7025c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"square_btn\":\"connectBtnStyle_square_btn__30eW1\",\"connectBtnText\":\"connectBtnStyle_connectBtnText__2YAB3\",\"imx_logo\":\"connectBtnStyle_imx_logo__1wECb\"};","export interface DiscordUser {\r\n    accent_color?: string\r\n    avatar: string\r\n    banner?: string\r\n    banner_color?: string\r\n    discriminator: string\r\n    flags: number\r\n    id: string\r\n    locale: string\r\n    mfa_enabled: boolean\r\n    public_flags: number\r\n    username:  string\r\n}\r\n\r\nexport default function DiscordProfile({user}: {user: DiscordUser}) {\r\n    const avatarStyles = {\r\n        width: '150px',\r\n        height: '150px',\r\n        borderRadius: '100%'\r\n    };\r\n\r\n    return(\r\n        <div>\r\n            <img style={avatarStyles} src={`https://cdn.discordapp.com/avatars/${user.id}/${user.avatar}.png`} alt='User Avatar'/>\r\n            <h2>Hello {user.username}</h2>\r\n        </div>\r\n    )\r\n}","import './App.css';\nimport { Link } from '@imtbl/imx-sdk';\nimport { useEffect, useState } from 'react';\nimport DiscordProfile, { DiscordUser } from './DiscordProfile';\nimport styles from './connectBtnStyle.module.css';\n\nfunction App() {\n  const [discordUser, setDiscordUser] = useState({} as DiscordUser);\n\n  async function handleConnectButtonClick() {\n    const address = await getImxAddress();\n    verifyUser(address, discordUser.id);\n  }\n\n  async function getImxAddress(): Promise<string> {\n    const link = new Link('https://link.x.immutable.com');\n    const { address } = await link.setup({});\n    return address;\n  }\n\n  async function verifyUser(imxAddress: string, userId: string) {\n    await fetch(`https://fynngin.api.stdlib.com/greenpark-nft-verification@dev?user=${userId}&address=${imxAddress}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    })\n  }\n\n\n  useEffect(() => {\n    // parse access_token and token_type that were inserted by Discord into redirect URL\n    const fragment = new URLSearchParams(window.location.hash.slice(1));\n    const [accessToken, tokenType] = [fragment.get('access_token'), fragment.get('token_type')];\n    const fetchUsers = () => {\n        fetch('https://discord.com/api/users/@me', {\n          headers: {\n            authorization: `${tokenType} ${accessToken}`,\n          },\n        })\n        .then(result => result.json())\n        .then(response => {\n          setDiscordUser(response);\n        })\n        .catch(console.error);\n    };\n\n    if (accessToken) {\n      fetchUsers();\n    }\n  }, []);\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        {discordUser.id \n          ? <>\n              <DiscordProfile user={discordUser}/>\n              <button className={styles.square_btn} onClick={() => handleConnectButtonClick()}>\n                <h2 className={styles.connectBtnText}>Connect</h2>\n                <img className={styles.imx_logo} src={`${process.env.PUBLIC_URL}/imx_logo.svg`} alt='ImmutableX Logo'/>\n                </button>\n            </> \n          : <p>Oops... Something went wrong with the Discord Authentication.</p>\n        }\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}